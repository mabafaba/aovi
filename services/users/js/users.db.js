const Mongoose = require("mongoose");

// const localDB = `mongodb://localhost:27017/role_auth`;

// automatically pick url depending on whether in docker or not
const isDocker = process.env.DOCKER === 'true';
const url = isDocker ? 'mongodb://aovi-mongodb:27017/aovi' : 'mongodb://localhost:27017/aovi';

console.log('mongodb url:', url);

const connectDB = async () => {
  await Mongoose.connect(url, {
  });

  console.log("MongoDB Connected");
};

module.exports = connectDB;